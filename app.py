import streamlit as st
import random

# 성경 구절 데이터베이스
bible_verses = {
    "기쁨": [
        "시편 16:11 - 주께서 생명의 길을 내게 보이시리니 주의 앞에는 충만한 기쁨이 있고 주의 오른쪽에는 영원한 즐거움이 있나이다",
        "빌립보서 4:4 - 주 안에서 항상 기뻐하라 내가 다시 말하노니 기뻐하라",
        "시편 118:24 - 이 날은 여호와께서 정하신 것이라 이 날에 우리가 즐거워하고 기뻐하리로다",
        "느헤미야 8:10 - 여호와로 인하여 기뻐하는 것이 너희의 힘이니라",
        "누가복음 15:10 - 내가 너희에게 이르노니 이와 같이 죄인 한 사람이 회개하면 하나님의 사자들 앞에 기쁨이 되느니라"
    ],
    "슬픔": [
        "시편 34:18 - 여호와는 마음이 상한 자를 가까이 하시고 충심으로 통회하는 자를 구원하시는도다",
        "마태복음 5:4 - 애통하는 자는 복이 있나니 그들이 위로를 받을 것임이요",
        "요한복음 16:22 - 지금은 너희가 근심하나 내가 다시 너희를 보리니 너희 마음이 기쁠 것이요 너희 기쁨을 빼앗을 자가 없으리라",
        "시편 30:5 - 그의 노염은 잠깐이요 그의 은총은 평생이로다 저녁에는 울음이 깃들일지라도 아침에는 기쁨이 오리로다",
        "계시록 21:4 - 모든 눈물을 그 눈에서 닦아 주시니 다시는 사망이 없고 애통하는 것이나 곡하는 것이나 아픈 것이 다시 있지 아니하리니 처음 것들이 다 지나갔음이러라"
    ],
    "두려움": [
    "이사야 41:10 - 두려워하지 말라 내가 너와 함께 함이라 놀라지 말라 나는 네 하나님이 됨이라 내가 너를 굳세게 하리라 참으로 너를 도와 주리라 참으로 나의 의로운 오른손으로 너를 붙들리라",
    "시편 23:4 - 내가 사망의 음침한 골짜기로 다닐지라도 해를 두려워하지 않을 것은 주께서 나와 함께 하심이라 주의 지팡이와 막대기가 나를 안위하시나이다",
    "여호수아 1:9 - 내가 네게 명령한 것이 아니냐 강하고 담대하라 두려워하지 말며 놀라지 말라 네가 어디로 가든지 네 하나님 여호와가 너와 함께 하느니라 하시니라",
    "디모데후서 1:7 - 하나님이 우리에게 주신 것은 두려워하는 마음이 아니요 오직 능력과 사랑과 절제하는 마음이니",
    "시편 56:3 - 내가 두려워하는 날에는 내가 주를 의지하리이다"
    ],
    // ... 추가 감정/상황 및 구절들 ...
    "희망": [
    "예레미야 29:11 - 여호와의 말씀이니라 너희를 향한 나의 생각을 내가 아나니 평안이요 재앙이 아니니라 너희에게 미래와 희망을 주는 것이니라",
    "로마서 15:13 - 소망의 하나님이 모든 기쁨과 평강을 믿음 안에서 너희에게 충만하게 하사 성령의 능력으로 소망이 넘치게 하시기를 원하노라",
    "시편 39:7 - 주여 이제 내가 무엇을 바라리요 나의 소망은 주께 있나이다",
    "이사야 40:31 - 오직 여호와를 앙망하는 자는 새 힘을 얻으리니 독수리가 날개치며 올라감 같을 것이요 달음박질하여도 곤비하지 아니하겠고 걸어가도 피곤하지 아니하리로다",
    "히브리서 11:1 - 믿음은 바라는 것들의 실상이요 보이지 않는 것들의 증거니"
    ],
     "용기": [
    "신명기 31:6 - 강하고 담대하라 두려워하지 말라 그들 앞에서 떨지 말라 이는 네 하나님 여호와 그가 너와 함께 가시며 결코 너를 떠나지 아니하시며 버리지 아니하실 것임이라",
    "여호수아 1:7 - 오직 강하고 극히 담대하여 나의 종 모세가 네게 명령한 그 율법을 다 지켜 행하고 우로나 좌로나 치우치지 말라 그리하면 어디로 가든지 형통하리니",
    "고린도전서 16:13 - 깨어 믿음에 굳게 서서 남자답게 강건하여라",
    "시편 31:24 - 강하고 담대하라 여호와를 바라는 너희들아",
    "에베소서 6:10 - 끝으로 너희가 주 안에서와 그 힘의 능력으로 강건하여지고"
    ]
    };
    # 다른 감정들도 여기에 추가...
}

def get_verses(situation):
    situation = situation.lower()
    found_verses = []
    
    # 정확히 일치하는 경우
    if situation in bible_verses:
        found_verses = bible_verses[situation]
    else:
        # 부분 일치하는 모든 구절 찾기
        for key in bible_verses:
            if situation in key.lower():
                found_verses.extend(bible_verses[key])
    
    # 구절을 찾지 못한 경우 기본 구절 제공
    if not found_verses:
        found_verses = ["요한복음 3:16 - 하나님이 세상을 이처럼 사랑하사 독생자를 주셨으니 이는 그를 믿는 자마다 멸망하지 않고 영생을 얻게 하려 하심이라"]
    
    return found_verses

st.title("말씀 위로")

situation = st.text_input("현재 상황이나 감정을 입력하세요")

if st.button("말씀 찾기"):
    verses = get_verses(situation)
    st.subheader("관련 성경 구절:")
    for verse in verses:
        st.write(verse)

# 추가 기능: 랜덤 말씀
if st.button("오늘의 말씀"):
    all_verses = [verse for verses in bible_verses.values() for verse in verses]
    random_verse = random.choice(all_verses)
    st.subheader("오늘의 말씀:")
    st.write(random_verse)